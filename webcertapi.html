<!DOCTYPE html>
<html>
<head>
<title>Web Certificate API Specification</title>
<meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
<script src='http://www.w3.org/Tools/respec/respec-w3c-common' class='remove' async></script>
<script class='remove'>
      var respecConfig = {
          // document info
          specStatus:           "ED",
          shortName:            "webcertapi",
          // publishDate:   "2013-03-29",
          // previousMaturity: "WD",
          // previousPublishDate:  "2009-03-15",
          // previousURI : "http://dev.w3.org/2009/dap/ReSpec.js/documentation.html",
          copyrightStart:       "2013",
          edDraftURI:           "http://mountielee.github.com/webcertapi/webcertapi.html",
          // lcEnd:  "2010-08-06",
          // extraCSS:             ["../css/respec.css"],
          extraCSS:             ["http://dev.w3.org/2009/dap/ReSpec.js/css/respec.css"],

          // editors
          editors:  [
              { name: "Mountie Lee", url: "",
                company: "PayGate", companyURL: "http://www.paygate.net/" },
          ],
          
          // WG
          wg:           "Web Cryptography Working Group",
          wgURI:        "http://www.w3.org/2012/webcrypto/",
          wgPublicList: "",
          wgPatentURI:  "",
      };
    </script>
</head>
<body>
	<section id='abstract'>
		the Web Certificate API is the specification for Web Certificate Management Protocol based on RFC-4210,
		control of TLS session and derivation of keys from TLS sessions
	</section>

	<section id='sotd'>
		<p>currently initializing document format, gathering spec requirements and define priority of relations of each requirements</p>
	</section>

	<section>
		<h2>Certificate Management Protocol</h2>
		<p>the web certificate api based on the certificate management protocol follows by RFC4210. </p>
		<p>this specification focus on user agent side of RFC4210 CMP</P>
		<section>
			<h3>Overview</h3>
			<p>the specification is trying to keep existing RA/CA services with minor changes</p>
			<p>Web Certificate API defines the request and response parameters and processed between user agent and RA/CA service providers</p>
			<h3>Initialization Request</h3>
			<h3>Initialization Response</h3>
			<h3>Certificate Request</h3>
			<h3>Certificate Response</h3>
			<h3>Revocation Request</h3>
			<h3>Revocation Response</h3>
		</section>	
	</section>

	<section>
		<h2>Certificate Validation</h2>
		<p>certificate validation needs more mechanisms than public validation</p>
		<section>
			<h3>Certificate Chain Validation</h3>
		</section>
		<section>
			<h3>Certificate CRL Validation</h3>
			<section>
				<h4>CRL Distribution Point</h4>
			</section>
		</section>
	</section>

	<section>
		<h2>Security Considerations</h2>
		<section>
			<h3>Same-Origin Policy</h3>
			<p>Same Origin Policy is base security policy of WebCrypto API</p>
			<p>the exceptions of same-origin policy can be allowed by following conditions</p>
			<ul>
				<li>private key access binded to valid certificate
				<li>the certificate issued by valid CA
				<li>the CA is listed in trusted CA list of user agent
			</ul>
		</section>
		<section>
			<h3>Certificate KeyStorage</h3>
			<p>Certificate KeyStorage should be interoperable with existing TLS Key Storage</p>
			<p>to keep the backward compatibility, when the certificate is installed into user agent, it will be listed in TLS Key Storage of user agent</p>
			<p>but the certificate operations will be restricted by the KeyUsage defined in certificate inside.</p>
			<p>when the certificate and private key pair is inserted via PKCS#11 interface into TLS Key Storage, it also can be used by webcrypto API with valid KeyUsage</p>
		</section>
	</section>
</body>
</html>

